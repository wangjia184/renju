# 对弈生成器，数据用于初始化策略网络


https://gist.github.com/lnshi/eb3dea05d99daba5c932bbc786cc3701

```
sudo mkdir -p /usr/local/lib/libtensorflow-cpu-darwin-arm64-2.9.0

sudo tar -C /usr/local/lib/libtensorflow-cpu-darwin-arm64-2.9.0 -xzf bazel-bin/tensorflow/tools/lib_package/libtensorflow.tar.gz
```

cd /usr/local/lib/libtensorflow-cpu-darwin-arm64-2.9.0/lib


export DYLD_LIBRARY_PATH=/opt/homebrew/opt/tensorflow/lib
export DYLD_LIBRARY_PATH="$DYLD_LIBRARY_PATH":~/opt/anaconda3/envs/ml/lib/python3.9/site-packages/tensorflow-plugins



```

```
## 不同的棋局相同的局面

对于同一局面，可能存在多达八种雷同棋局。如下所示两种棋局相互可以通过翻转和旋转得到。在训练时同一局面的雷同棋局都需要训练，但在生成对弈棋局的时候需要避免计算雷同棋局。

```
┌───┬───┬───┬───┬───┐        ┌───┬───┬───┬───┬───┐
│   │   │   │   │   │        │   │   │   │   │   │
├───┼───┼───┼───┼───┤        ├───┼───┼───┼───┼───┤
│   │ X │   │   │   │        │   │ X │ X │   │   │
├───┼───┼───┼───┼───┤        ├───┼───┼───┼───┼───┤
│   │ X │ O │   │   │        │   │   │ O │ O │   │
├───┼───┼───┼───┼───┤        ├───┼───┼───┼───┼───┤
│   │   │ O │   │   │        │   │   │   │   │   │
├───┼───┼───┼───┼───┤        ├───┼───┼───┼───┼───┤
│   │   │   │   │   │        │   │   │   │   │   │
└───┴───┴───┴───┴───┘        └───┴───┴───┴───┴───┘
```


## 棋局的表示方法

用一个15x15的整型矩阵表达，其中`0`表示无子状态;`1`表示黑子;`2`表示白子。
比如:

```
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 1 0 0 0 0 0 0 0
0 0 0 0 0 0 1 2 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
``````

该矩阵中只包含有0、1、2三种数字，因此可以视为225个三进制位(trit)的一维数组。因此也可以将它转换为base81编码表达。例如：`00000000000000000000000009001S000000000000000000000000000`

为了去除局面相同的棋局，在可能的八种雷同棋局中选取该编码字符串最小的那局表示该局面。（窃以为这些局面相同的棋局似乎蕴涵着某种数学理论）